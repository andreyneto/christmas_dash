pico-8 cartridge // http://www.pico-8.com
version 41
__lua__
-- xmas night rush
-- by andrey neto
#include main.lua

#include core/class.lua
#include core/background.lua
#include core/entity.lua
#include core/scene.lua
#include core/utils.lua

#include entities/particles.lua
#include entities/santa.lua

#include scenes/game_scene.lua
#include scenes/title_scene.lua
__gfx__
00000000008888800088888000088888000888880008888800088888000088887088888800000000000000000000000000000000000000000000000000000000
00000000087777700877777008887777708877770088777778887777000877770808777700000000000000000000000000000000000000000000000000000000
0070070008671f1008671f107007671f0807671f7807671f0007671f0087671f0007671600000000000000000000000000000000000000000000000000000000
000770007066666070666e600006666e0006666e0006666e0006666e0807666e00f7666600000000000000000000000000000000000000000000000000000000
0007700000076660008766600f8776660f8776660f8776660f877666708776660008776000000000000000000000000000000000000000000000000000000000
00700700008886000f0886f0000896000008960000089060000890600f0896000000890000000000000000000000000000000000000000000000000000000000
000000000f0890f00008900004808000008800000280800000880000008800000000880000000000000000000000000000000000000000000000000000000000
00000000004002000040020000002000004200000000400000240000024000000000420000000000000000000000000000000000000000000000000000000000
04400440055005500550055002200220000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
49f449f453b553b55675567528e228e2000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
494ff494535bb53556577565282ee282000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0eee49e0ffff53ff022562200b82bbb0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
e8884f8ef9995b9f2885788233e23333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
e8884f88f9995b998885788833e23333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
88884988999953992885688233823333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
02222220444444440222222005555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00aaaa00000aa000000aa000000aa0000077aa00000aa000000aa000000aa0000000000000000000000000000000000000000000000000000000000000000000
099999a000999a0000999a0000a99900079999a00099770000999a0000a999000000000000000000000000000000000000000000000000000000000000000000
49944a9a0499a9a00049aa000a99494079944a9a049779a00049aa000a9949400000000000000000000000000000000000000000000000000000000000000000
49499a9a0494a9a00044aa000a9a494049499a9a0477a9a00044a7000a9a49400000000000000000000000000000000000000000000000000000000000000000
49499a9a0494a9a00044aa000a9a494049499a9a0774a9a0004477000a9a49700000000000000000000000000000000000000000000000000000000000000000
494aa99a049499a000449a000a9a9940494aa99a079499a000477a000a9a99700000000000000000000000000000000000000000000000000000000000000000
04999990004999000049990000999400049999900049990000779900009997000000000000000000000000000000000000000000000000000000000000000000
00444400000440000004400000044000004444000004400000044000000770000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0077777777777777777777777777777777777777777777000000d77777777777777777777777777777777777777d000000000000000000000000000000000000
07777d7d7777d7777777777777dd777d777777d7777d777000000d7d7777d7777777777777dd777d777777d7777d000000000000000000000000000000000000
77777676d77ddd7d7777d777dd66d776d7777d6dd7d6d77700000070d77ddd7d7777d777dd00d770d7777d0dd7d0000000000000000000000000000000000000
777dd6d6677666d6777d6d7d666667766d7776666d666777000000d0077000d0777d0d7d000007700d7770000d00000000000000000000000000000000000000
77d6666667d66666d7d666d66666677666d7d66666666d770000000007d00000d7d000d00000077000d7d0000000000000000000000000000000000000000000
776666666d6666666d666666666667d6666d6666666666d7000000000d0000000d000000000007d0000d00000000000000000000000000000000000000000000
7d666666666666666666666666666d66666666666666666d00000000000000000000000000000d00000000000000000000000000000000000000000000000000
d6666666666666666666666666666666666666666666666600000000000000000000000000000000000000000000000000000000000000000000000000000000
6666666666666666666666663bb00000000003330000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
677666666dd66666666666663abb000000003bba0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
677667666dd66d6666666666333bba00003bbbb30000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
6666666666666666666666660333bbbbbbabb3330000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
66666666666666666666666600ba3bab3b333bb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
6676666666d66666666666660000b333a333ba000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
6666676666666d666666666600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
66666666666666666666666600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
077ee77ee77ee77ee77ee77000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
56886688668866886688668800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
58866886688668866886688700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
28668866886688668866886700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
26688668866886688668866e00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
05225522552255225522552000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00005687000000005667000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000586700000000566e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00002667000000005687000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000566e000000005867000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00005687000000002667000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000586700000000566e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00002667000000005687000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000566e000000005867000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00005687000000002667000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000586700000000566e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000077700007700077000000077777000077000077000007777777000000007777770000777000000000007777700007700007700000000000000000000000
00000766670076670766700007766666700766700766000776666666700000076666667000666700770000076666670076670076600000000000000000000000
00000666660066660666600076666666d00666600666707666666666d000000666dd6667076666076670007666d66d0066660066670000000000000000000000
0000066666706666066660006666dddd0006666006666066666666dd000000766d00666606666d0666600066660dd00066660066660000000000000000000000
000006666660666606666007666d000000066667766660d66d66660000000066600066660666600d666700d66670000066667766660000000000000000000000
00007666d66066660666600666600777700666666666600dd0666600000000666007666d066660006666000d6667700066666666660000000000000000000000
0000666606676666066660066660766667066666666666000066660000000766677666d00666600066660000dd66670066666666667000000000000000000000
0000666606666660066667066660dd666606666ddd6666000066660000000666666666000666670766660077006666706666ddd6666000000000000000000000
000066660d6666600666660d666700666d0666600066660000666670000006666d6666700d666676666d07667766666066660006666000000000000000000000
00006666006666600666660066667766600666600066660000d666600000066660d666670066666666600666666666d066660006666000000000000000000000
0000d66d00d666d00d666d00dd66666dd00d66d000d66d00000666d000000d66d00d666d00d6666666d00d666666dd00d66d000d66d000000000000000000000
00000dd0000ddd0000ddd00000ddddd00000dd00000dd000000ddd00000000dd0000ddd0000ddddddd0000dddddd00000dd00000dd0000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00008888888000000000888888800000000088888880000000008888888000000000888888800000000888888880000000008888888000000000888888800000
00088777777700000008877777770000000887777777000000088777777700000008877777770000008887777777000000888777777700000008877777770000
00886fff1ff1000000886fff1ff1000000886fff1ff1000007886fff1ff1000000886fff1ff1000078806fff1ff1000008806fff1ff1000000886fff1ff10000
0780666fffff00000080666fffff00000780666fffff00000770666fffff00007880666fffff00007700666fffff00007800666fffff00000780666fffef0000
07700866666600000780086666660000077008666666000000000866666600007700086666660000000008666666000077000866666600000770886666660000
00008e886666000007708e8866660000000888886666000000008e886666000000008e886666000000008e886666000000008e886666000000088e8866668000
00088e888668800000088e88866880000888ee888668880000088e888668800000008e8886620000000088e88662000000008e888662000000088e8886688000
00088e88878880000008e88887888800888e8888878288800008e88887828800000088e8878200000000888ef7820000000088e8878200000008e88887828000
0008e888878280000088e8888782ff00ff00888887880ff00088e8888788ff00000088e88788000000002888f7880000000088e8878800000008e8888788f000
0008e8888788f000008e8888878800000000888887880000008e8888878800000000288e8788000000008222878800000000288e87880000000ff88887880000
000ff4449944000000ff444499440000000044449944000000ff444499440000000044ff994400000000444499440000000044ff994400000000444499440000
00007777777700000000777777770000000078e77777000000007877777700000000777777778000000077777777200000007777777700000000777777770000
0000888888880000000088e8888800000000888e8880000000008882888000000000888e88888000000488ee888822000048888e888800000000888888880000
000088e0888000000000888e8880000000008888e8000000000088e88000000000008880008880000044ee00000000000008888088880000000088e088800000
00004400022000000000088428000000000000044000000000000440000000000004480000020000000000000000000000000000082200000000440002200000
00004000020000000000000420000000000000020000000000000040000000000000000000000000000000000000000000000000002000000000400002000000
d666d000000000000d66d500d6666d0000000000d666d500d6666666666666666666d500d6666666666666666666d50000000000000000000000000000000000
666666000000000076666d00666666600000000766666d00666666666666666666666d00666666666666666666666d0000000000000000000000000000000000
e88888800000000e88888200e8888888000000e888888200e88888888888888888888200e8888888888888888888820000000000000000000000000000000000
e8888888000000e888888200e888888880000e8888888200e88888888888888888888200e88888899e9eeeeee8ee820000000000000000000000000000000000
76666666d0000d6666666d00766666666d00d66666666d00766666677779799766666d0076666662222222222222220000000000000000000000000000000000
766666666666666666666d00766666666666666666666d0076666662222222e966666d0076666662222222222222220000000000000000000000000000000000
2e8888888888888888888200e88888888888888888888200e8888882222222298888820098888882222222222222240000000000000000000000000000000000
22e888888888888888882200e88888888888888888888200e88888822222222e88888200e8888880000000000000000000000000000000000000000000000000
422766666666666666622400766666626666662766666d00766666600000000766666d00766666666666666666666d0000000000000000000000000000000000
022276666666666666222000766666622776622766666d00766666600000000766666d00966666666666666666666d0000000000000000000000000000000000
0022e8888888888888220000e88888842222224e88888200e88888820000002e888882009e888888888888888888820000000000000000000000000000000000
0002e8888888888888200000e88888802222220e88888200e88888888888888888888200999e9eeeeeee9e99e888820000000000000000000000000000000000
000666666666666666600000766666600222400766666d00766666666666666666666d009e8828222222222e96666d0000000000000000000000000000000000
006666666666666666660000766666600000000766666d00766666666666666666666d00e88282222222222296666d0000000000000000000000000000000000
088888888888888888888000e88888800000000e88888200e8888888888888888888820028282222222222229888820000000000000000000000000000000000
888888888888888888888400e88888800000000e88888200e88888899e9ee8e8888882000000000000000000e888820000000000000000000000000000000000
966666666222296666666200966666600000000966666d00966666622222228766666d00966666666666666666666d0000000000000000000000000000000000
766666662222227666666200766666600000000766666d00766666622222222766666d00766666666666666666666d0000000000000000000000000000000000
98888882222222298888820098888880000000098888820098888882222222498888820098888888888888888888820000000000000000000000000000000000
9e88882220000222988882009e88888000000009e88882009e88888000000009e88882009e888888888888888888820000000000000000000000000000000000
999e922200000022299e9200999e9ee00000000999e9e200999e9ee00000000999e9e200999e9eeeeeeeeeeeee8e820000000000000000000000000000000000
9e88228000000002222222009e88282000000009e88282009e88282000000009e88282009e882822222222222222220000000000000000000000000000000000
e88228000000000022222200e88282200000000e88282200e88282200000000e88282200e8828222222222222222220000000000000000000000000000000000
28228000000000000222240028282240000000028282240028282240000000028282240028282222222222222222240000000000000000000000000000000000
__gff__
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010101010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000800000000080000000000000000
0000000000000000000000000000000008080000000000000000000000000000080808080808080808080808080808080008000800080008000800080008000800000000000000000000000008000000000000080008080808080808000800000800000800000800000800000000000000000000000000000000000000000029
__map__
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000535453545354535400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4142414442444141444241424441444400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5251525252525052525252525252515200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5252525052525251525250525152525000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
